# Project: OBS Copilot

## Tech Stack
- **Frontend**: React 18, Vite, TypeScript, Tailwind CSS, Zustand, React Query.
- **Backend**: Python 3.11+, FastAPI, Google GenAI SDK (Gemini 1.5/Pro).
- **Integrations**: OBS WebSocket (v5), Streamer.bot, various asset APIs (Unsplash, Giphy).

## Architecture
- **Feature-based structure**: `src/features/*` (chat, obs-control, automation).
- **Shared core**: `src/shared/*` (services, hooks, components).
- **Hybrid Communication**:
    - HTTP/SSE for backend AI communication.
    - WebSocket for OBS and Streamer.bot local control.

## Code Style
- **Strict TypeScript**: No `any` unless absolutely necessary (e.g., legacy library shims).
- **Zustand**: Use `useShallow` for selectors to prevent re-renders.
- **Error Handling**: Use `handleAppError` utility and `ComprehensiveErrorBoundary`.
- **Components**: Functional components, Radix UI primitives, ShadCN styling patterns.
- **Async**: React Query for server state, internal services for socket state.

## Critical Workflows
1. **OBS Context**: The AI must be aware of the current scene/source state via `obsStateManager`.
2. **Automation**: Events trigger rules -> Conditions checked -> Actions executed transactionally.
3. **Resilience**: Services must auto-reconnect and handle "offline" states gracefully.

## Debugging
- Frontend Logs: `src/shared/utils/logger.ts`
- Backend Logs: FastAPI console output.
- use `DEBUG=true` in `.env` for verbose WebSocket logging.