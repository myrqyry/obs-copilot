{
  "openapi": "3.1.0",
  "info": {
    "title": "Universal Backend Server",
    "description": "A single backend to serve all my projects with Google AI integration.",
    "version": "1.1.0"
  },
  "paths": {
    "/api/gemini/stream": {
      "post": {
        "tags": [
          "gemini"
        ],
        "summary": "Stream Content",
        "operationId": "stream_content_api_gemini_stream_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GeminiRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/gemini/generate-image-enhanced": {
      "post": {
        "tags": [
          "gemini"
        ],
        "summary": "Generate Image Enhanced",
        "operationId": "generate_image_enhanced_api_gemini_generate_image_enhanced_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImageGenerateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/gemini/generate-speech": {
      "post": {
        "tags": [
          "gemini"
        ],
        "summary": "Generate Speech",
        "operationId": "generate_speech_api_gemini_generate_speech_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SpeechGenerateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/gemini/generate-video": {
      "post": {
        "tags": [
          "gemini"
        ],
        "summary": "Generate Video",
        "operationId": "generate_video_api_gemini_generate_video_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VideoGenerateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/gemini/operations/{operation_name}": {
      "get": {
        "tags": [
          "gemini"
        ],
        "summary": "Get Operation Status",
        "operationId": "get_operation_status_api_gemini_operations__operation_name__get",
        "parameters": [
          {
            "name": "operation_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Operation Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/gemini/obs-aware-query": {
      "post": {
        "tags": [
          "gemini"
        ],
        "summary": "Obs Aware Query",
        "description": "Enhanced endpoint that uses OBS context to generate structured OBS actions.",
        "operationId": "obs_aware_query_api_gemini_obs_aware_query_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OBSAwareRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OBSActionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/gemini/cache/cleanup": {
      "post": {
        "tags": [
          "gemini"
        ],
        "summary": "Cleanup Caches",
        "description": "Endpoint to manually trigger cache cleanup",
        "operationId": "cleanup_caches_api_gemini_cache_cleanup_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/gemini/process": {
      "post": {
        "tags": [
          "gemini"
        ],
        "summary": "Process Orchestration",
        "description": "Simple orchestration processing entry used by tests. Delegates to gemini_service if available.",
        "operationId": "process_orchestration_api_gemini_process_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Payload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/gemini/function-calling-query": {
      "post": {
        "tags": [
          "gemini"
        ],
        "summary": "Function Calling Query",
        "operationId": "function_calling_query_api_gemini_function_calling_query_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FunctionCallingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FunctionCallingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/assets/search/{api_name}": {
      "get": {
        "tags": [
          "assets"
        ],
        "summary": "Search Assets",
        "description": "A generic proxy endpoint to search various third-party asset APIs.\nThis version includes more robust key handling and error reporting.",
        "operationId": "search_assets_api_assets_search__api_name__get",
        "parameters": [
          {
            "name": "api_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "pattern": "^(giphy|tenor|pixabay|pexels|unsplash|tenor_stickers|wallhaven|iconfinder|iconify|emoji-api)$",
              "title": "Api Name"
            }
          },
          {
            "name": "useCache",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Usecache"
            }
          },
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 200,
              "title": "Query"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 100,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "title": "Page"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 50,
                  "minimum": 1
                },
                {
                  "type": "null"
                }
              ],
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/assets/search": {
      "get": {
        "tags": [
          "assets"
        ],
        "summary": "Search Assets Root",
        "description": "Backwards-compatible search endpoint used by some orchestrator tests.\nDelegates to the generic asset_search shim which tests may patch.\nThis endpoint is intentionally public for test harness simplicity.",
        "operationId": "search_assets_root_api_assets_search_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Query"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/assets/proxy-image": {
      "get": {
        "tags": [
          "assets"
        ],
        "summary": "Proxy Image",
        "description": "Proxies an image URL to bypass CORS issues, with SSRF protection.",
        "operationId": "proxy_image_api_assets_proxy_image_get",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImageProxyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/overlays/stream": {
      "get": {
        "tags": [
          "overlays"
        ],
        "summary": "Stream",
        "description": "SSE endpoint that streams chat messages for a channel.",
        "operationId": "stream_api_overlays_stream_get",
        "parameters": [
          {
            "name": "channel",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 100,
              "pattern": "^[a-zA-Z0-9_]+$",
              "title": "Channel"
            }
          },
          {
            "name": "token",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "maxLength": 255
                },
                {
                  "type": "null"
                }
              ],
              "title": "Token"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/overlays/publish": {
      "post": {
        "tags": [
          "overlays"
        ],
        "summary": "Publish",
        "description": "Publish a message to overlays. Payload must include channel and message data.",
        "operationId": "publish_api_overlays_publish_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PublishRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/proxy/7tv/cosmetics": {
      "get": {
        "tags": [
          "proxy"
        ],
        "summary": "Get 7Tv Cosmetics",
        "description": "Proxy to 7tv cosmetics endpoint. Returns {} when 7tv responds 404 so the browser won't log a network 404.",
        "operationId": "get_7tv_cosmetics_api_proxy_7tv_cosmetics_get",
        "parameters": [
          {
            "name": "user_identifier",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 50,
              "pattern": "^[a-zA-Z0-9_]+$",
              "title": "User Identifier"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/proxy/emotes/bttv/global": {
      "get": {
        "tags": [
          "proxy_emotes"
        ],
        "summary": "Bttv Global",
        "operationId": "bttv_global_api_proxy_emotes_bttv_global_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/proxy/emotes/bttv/channel": {
      "get": {
        "tags": [
          "proxy_emotes"
        ],
        "summary": "Bttv Channel",
        "operationId": "bttv_channel_api_proxy_emotes_bttv_channel_get",
        "parameters": [
          {
            "name": "twitch_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 20,
                  "pattern": "^\\d+$"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Twitch Id"
            }
          },
          {
            "name": "channel_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 50,
                  "pattern": "^[a-zA-Z0-9_]+$"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Channel Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/proxy/emotes/ffz/global": {
      "get": {
        "tags": [
          "proxy_emotes"
        ],
        "summary": "Ffz Global",
        "operationId": "ffz_global_api_proxy_emotes_ffz_global_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/proxy/emotes/ffz/channel": {
      "get": {
        "tags": [
          "proxy_emotes"
        ],
        "summary": "Ffz Channel",
        "operationId": "ffz_channel_api_proxy_emotes_ffz_channel_get",
        "parameters": [
          {
            "name": "twitch_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 20,
                  "pattern": "^\\d+$"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Twitch Id"
            }
          },
          {
            "name": "channel_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 50,
                  "pattern": "^[a-zA-Z0-9_]+$"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Channel Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/proxy/emotes/7tv/global": {
      "get": {
        "tags": [
          "proxy_emotes"
        ],
        "summary": "Seven Tv Global",
        "operationId": "seven_tv_global_api_proxy_emotes_7tv_global_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/proxy/emotes/7tv/channel": {
      "get": {
        "tags": [
          "proxy_emotes"
        ],
        "summary": "Seven Tv Channel",
        "operationId": "seven_tv_channel_api_proxy_emotes_7tv_channel_get",
        "parameters": [
          {
            "name": "twitch_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 20,
                  "pattern": "^\\d+$"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Twitch Id"
            }
          },
          {
            "name": "channel_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 50,
                  "pattern": "^[a-zA-Z0-9_]+$"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Channel Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/health/": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health Check",
        "description": "Comprehensive health check endpoint.",
        "operationId": "health_check_api_health__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/health/gemini": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Gemini Health",
        "description": "Checks if the Gemini API key is available.",
        "operationId": "gemini_health_api_health_gemini_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/health/obs": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Obs Health",
        "description": "Mock OBS health check.",
        "operationId": "obs_health_api_health_obs_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/health/mcp": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Mcp Health",
        "description": "Mock MCP health check.",
        "operationId": "mcp_health_api_health_mcp_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Read Root",
        "description": "A public health check endpoint.",
        "operationId": "read_root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/secure": {
      "get": {
        "summary": "Read Secure Data",
        "description": "A secure endpoint that requires an API key.",
        "operationId": "get_secure_data",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "FunctionCallingRequest": {
        "properties": {
          "prompt": {
            "type": "string",
            "maxLength": 5000,
            "minLength": 1,
            "title": "Prompt"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "description": "Model to use.",
            "default": "gemini-2.5-flash-preview-tts"
          },
          "history": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "History"
          },
          "obs_state": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Obs State",
            "description": "Current OBS state"
          }
        },
        "type": "object",
        "required": [
          "prompt"
        ],
        "title": "FunctionCallingRequest"
      },
      "FunctionCallingResponse": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text"
          },
          "actions": {
            "items": {
              "$ref": "#/components/schemas/OBSAction"
            },
            "type": "array",
            "title": "Actions"
          }
        },
        "type": "object",
        "required": [
          "text",
          "actions"
        ],
        "title": "FunctionCallingResponse"
      },
      "GeminiRequest": {
        "properties": {
          "prompt": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 1,
            "title": "Prompt"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "default": "gemini-1.5-flash-latest"
          },
          "history": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "History"
          }
        },
        "type": "object",
        "required": [
          "prompt"
        ],
        "title": "GeminiRequest"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "ImageGenerateRequest": {
        "properties": {
          "prompt": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 1,
            "title": "Prompt"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "default": "imagen-4.0-fast-generate-001"
          },
          "image_format": {
            "type": "string",
            "pattern": "^(png|jpeg|webp)$",
            "title": "Image Format",
            "default": "png"
          },
          "aspect_ratio": {
            "type": "string",
            "pattern": "^(1:1|3:4|4:3|9:16|16:9)$",
            "title": "Aspect Ratio",
            "default": "1:1"
          },
          "person_generation": {
            "type": "string",
            "pattern": "^(allow_adult|dont_allow)$",
            "title": "Person Generation",
            "default": "allow_adult"
          },
          "image_input": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Input"
          },
          "image_input_mime_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Input Mime Type"
          },
          "reference_images": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reference Images"
          },
          "image_size": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(1024x1024|2048x2048|4096x4096)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Size"
          },
          "search_grounding": {
            "type": "boolean",
            "title": "Search Grounding",
            "default": false
          },
          "condition_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(canny_edge)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Condition Type"
          }
        },
        "type": "object",
        "required": [
          "prompt"
        ],
        "title": "ImageGenerateRequest"
      },
      "ImageProxyRequest": {
        "properties": {
          "image_url": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Image Url",
            "description": "Valid image URL from allowed domains"
          }
        },
        "type": "object",
        "required": [
          "image_url"
        ],
        "title": "ImageProxyRequest",
        "description": "Validation for image proxy URL."
      },
      "OBSAction": {
        "properties": {
          "command": {
            "type": "string",
            "title": "Command",
            "description": "The OBS command to execute, e.g., 'SetCurrentProgramScene'."
          },
          "args": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Args",
            "description": "A dictionary of arguments for the command."
          }
        },
        "type": "object",
        "required": [
          "command"
        ],
        "title": "OBSAction",
        "description": "Represents a single command to be executed in OBS."
      },
      "OBSActionResponse": {
        "properties": {
          "actions": {
            "items": {
              "$ref": "#/components/schemas/OBSAction"
            },
            "type": "array",
            "title": "Actions",
            "description": "A list of OBS actions to be executed."
          },
          "reasoning": {
            "type": "string",
            "title": "Reasoning",
            "description": "A step-by-step explanation of why these actions were chosen."
          }
        },
        "type": "object",
        "required": [
          "actions",
          "reasoning"
        ],
        "title": "OBSActionResponse",
        "description": "A structured response containing a series of OBS actions and the reasoning behind them."
      },
      "OBSAwareRequest": {
        "properties": {
          "prompt": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 1,
            "title": "Prompt"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "default": "gemini-1.5-flash-001"
          },
          "obs_state": {
            "additionalProperties": true,
            "type": "object",
            "title": "Obs State",
            "description": "Current OBS state"
          },
          "use_explicit_cache": {
            "type": "boolean",
            "title": "Use Explicit Cache",
            "description": "Use explicit caching for repeated contexts",
            "default": false
          },
          "cache_ttl_minutes": {
            "type": "integer",
            "maximum": 120.0,
            "minimum": 5.0,
            "title": "Cache Ttl Minutes",
            "description": "Cache TTL in minutes",
            "default": 30
          }
        },
        "type": "object",
        "required": [
          "prompt",
          "obs_state"
        ],
        "title": "OBSAwareRequest"
      },
      "PublishRequest": {
        "properties": {
          "channel": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9_]+$",
            "title": "Channel"
          },
          "message": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message",
            "description": "Message data"
          },
          "data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data",
            "description": "Alternative data field"
          }
        },
        "type": "object",
        "required": [
          "channel"
        ],
        "title": "PublishRequest",
        "description": "Validation for overlay publish payload."
      },
      "SpeechGenerateRequest": {
        "properties": {
          "prompt": {
            "type": "string",
            "maxLength": 5000,
            "minLength": 1,
            "title": "Prompt"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "description": "The model to use for speech generation.",
            "default": "gemini-1.5-flash-tts-001"
          },
          "isMultiSpeaker": {
            "type": "boolean",
            "title": "Ismultispeaker",
            "default": false
          },
          "voice": {
            "type": "string",
            "title": "Voice",
            "default": "Kore"
          },
          "speaker1Voice": {
            "type": "string",
            "title": "Speaker1Voice",
            "default": "Kore"
          },
          "speaker2Voice": {
            "type": "string",
            "title": "Speaker2Voice",
            "default": "Puck"
          }
        },
        "type": "object",
        "required": [
          "prompt"
        ],
        "title": "SpeechGenerateRequest"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VideoGenerateRequest": {
        "properties": {
          "prompt": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 1,
            "title": "Prompt"
          },
          "model": {
            "type": "string",
            "title": "Model",
            "default": "veo-3.1-generate-preview"
          },
          "aspect_ratio": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(16:9|9:16|1:1)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Aspect Ratio"
          },
          "duration_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Seconds"
          },
          "person_generation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Person Generation"
          },
          "reference_images": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reference Images"
          },
          "image": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image"
          },
          "last_frame": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Frame"
          },
          "video": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video"
          }
        },
        "type": "object",
        "required": [
          "prompt"
        ],
        "title": "VideoGenerateRequest"
      }
    }
  }
}