/* Remove forced fixed dropdown styles, revert to default */
/* Ensure SVG previews and modal SVGs scale to fit their containers */
.svg-container img,
.svg-container svg {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.svg-container,
.svg-modal-container {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Sticker grid item styling for transparency */
.gif-grid-item[data-type="stickers"] {
  background: transparent !important;
}

.gif-grid-item[data-type="stickers"] img {
  background: transparent !important;
  object-fit: contain !important;
}

/* Ensure sticker images maintain transparency */
img[src*="webp_transparent"],
img[src*="tinywebp_transparent"] {
  background: transparent !important;
  mix-blend-mode: normal;
}

/* Additional transparency support for stickers */
.gif-grid-item[data-type="stickers"] .bg-card {
  background: transparent !important;
}

/* Ensure proper transparency in modal for stickers */
.modal-sticker-preview {
  background: transparent !important;
}

/* Cross-browser transparency support */
.gif-grid-item[data-type="stickers"] img {
  -webkit-background-clip: padding-box;
  background-clip: padding-box;
  background-color: transparent !important;
}

/* Ensure grid items have proper dimensions and display */
.gif-grid-item {
  min-height: 128px; /* 32 * 4 = 128px (h-32) */
  display: flex;
  flex-direction: column;
}

.gif-grid-item img {
  width: 100%;
  height: 128px;
  object-fit: cover;
  object-position: center;
}

/* Ensure grid layout is responsive */
.grid.grid-cols-4 {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.25rem;
}

/* Enable scrolling for the StreamingAssetsTab */
body, html {
  overflow: auto;
}

div {
  overflow: auto;
}

/* Fallback for broken images */
.gif-grid-item img[style*="display: none"] {
  display: none !important;
}

/* Loading state for images */
.gif-grid-item img {
  transition: opacity 0.2s ease-in-out;
}

.gif-grid-item img:not([src]), 
.gif-grid-item img[src=""] {
  opacity: 0;
}

/* Service switching animations */
.service-switching {
  animation: serviceSwitch 0.3s ease-in-out;
}

@keyframes serviceSwitch {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(0.98);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Panel refresh indicator */
.panel-refresh {
  position: relative;
  overflow: hidden;
}

.panel-refresh::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--accent), transparent);
  animation: refreshSweep 1s ease-in-out;
}

@keyframes refreshSweep {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

/* Service dropdown loading state */
.service-dropdown-loading {
  position: relative;
  pointer-events: none;
}

.service-dropdown-loading::after {
  content: '';
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.1);
  border-radius: inherit;
  backdrop-filter: blur(1px);
}
