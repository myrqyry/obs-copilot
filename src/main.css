@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    border-color: hsl(var(--border));
  }

  :root {
    --background: 240 20% 15%;
    /* Catppuccin Mocha Base */
    --foreground: 226 66% 88%;
    /* Catppuccin Mocha Text - restored to proper light color for main UI */

    --card: 233 12% 31%;
    /* Catppuccin Mocha Surface1 */
    --card-foreground: 226 66% 88%;
    /* Catppuccin Mocha Text */

    --popover: 233 12% 31%;
    /* Catppuccin Mocha Surface1 */
    --popover-foreground: 226 66% 88%;
    /* Catppuccin Mocha Text */

    --primary: 270 80% 85%;
    /* Catppuccin Mocha Mauve */
    --primary-foreground: 240 20% 15%;
    /* Catppuccin Mocha Base (for contrast) */

    --secondary: 237 13% 23%;
    /* Catppuccin Mocha Surface0 */
    --secondary-foreground: 227 27% 75%;
    /* Catppuccin Mocha Subtext0 */

    --muted: 230 11% 48%;
    /* Catppuccin Mocha Overlay0 */
    --muted-foreground: 225 42% 86%;
    /* Catppuccin Mocha Subtext1 */

    --accent: 169 56% 76%;
    /* Catppuccin Mocha Teal */
    --accent-foreground: 240 20% 15%;
    /* Catppuccin Mocha Base (for contrast) */

    --destructive: 340 82% 81%;
    /* Catppuccin Mocha Red */
    --destructive-foreground: 240 20% 15%;
    /* Catppuccin Mocha Base (for contrast) */

    --border: 233 11% 39%;
    /* Catppuccin Mocha Surface2 */
    --input: 237 13% 23%;
    /* Catppuccin Mocha Surface0 */
    --ring: 270 80% 85%;
    /* Catppuccin Mocha Mauve (Primary Accent) */

    --radius: 0.75rem;
    /* 12px, matches original rounded-lg */

    --surface0: 237 13% 23%; /* Catppuccin Mocha Surface0 */
    --green: 115 37% 76%; /* Catppuccin Mocha Green */
    --blue: 217 80% 86%; /* Catppuccin Mocha Blue */
    --mauve: 270 80% 85%; /* Catppuccin Mocha Mauve */
    --peach: 25 92% 85%; /* Catppuccin Mocha Peach */
    --ctp-mantle: 240 20% 18%; /* Catppuccin Mocha Mantle */
    --ctp-text: 226 66% 88%; /* Catppuccin Mocha Text */

    /* RGB values for chat bubble colors */
    --user-chat-bubble-color-rgb: 245, 224, 220;
    /* Defaulting to rosewater RGB */
    --model-chat-bubble-color-rgb: 180, 191, 222;
    /* Defaulting to lavender RGB */

    /* Enhanced design tokens */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);

    /* Glass morphism shadows */
    --shadow-glass: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    --shadow-glass-lg: 0 12px 40px 0 rgba(31, 38, 135, 0.45);
    --shadow-glass-xl: 0 16px 48px 0 rgba(31, 38, 135, 0.55);

    /* Animation durations */
    --duration-fast: 150ms;
    --duration-normal: 300ms;
    --duration-slow: 500ms;
    --duration-slower: 700ms;

    /* Animation easings */
    --ease-out: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-in: cubic-bezier(0.4, 0, 1, 1);
    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  body {
    color: hsl(var(--foreground));
    background-color: hsl(var(--background));
    font-family: "Inter", sans-serif;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Extra dark mode should NOT change global CSS variables */
  /* It only affects specific components like chat bubbles and markdown effects */

  /* Tab transition/layout classes below are intended to be replaced by Tailwind utilities directly in components */
  /* e.g., .tab-transition -> transition-opacity transform duration-300 ease-out will-change-opacity,transform */
  /* e.g., .tab-content-container -> min-h-[400px] */
  /* e.g., .height-transition -> transition-height duration-300 ease-out will-change-height */
  /* e.g., .tab-content -> backface-hidden transform-gpu */

  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    /* .tab-transition, */ /* If these classes are removed, specific transition utilities should also get :motion-reduce variants */
    /* .height-transition { */
    /* transition: none; */
    /* } */

    /* .tab-content-container { */
      /* will-change: auto; */
    /* } */

    /* Disable GSAP animations for accessibility */
    .will-change-transform {
      will-change: auto;
    }

    /* Preserve focus indicators even with reduced motion */
    .enhanced-focus:focus-visible {
      transform: none !important;
    }
  }

  /* Enhanced markdown text splitting */
  .markdown-textsplit {
    color: hsl(var(--foreground));
  }

  [data-extra-dark-mode="true"] .markdown-textsplit {
    color: hsl(var(--foreground) / 0.8);
  }

  .textsplit-container {
    display: inline;
  }

  .textsplit-letter {
    display: inline-block;
    transition: all var(--duration-fast) var(--ease-out);
  }

  .textsplit-sending {
    opacity: 0.5;
    transform: translateY(2px);
  }

  .textsplit-sent {
    opacity: 1;
    transform: translateY(0);
  }

  /* Enhanced input styles - These are candidates for replacement with @tailwindcss/forms plugin or direct utility application */
  /* For example, .input could be replaced by:
     bg-input border border-border text-foreground rounded-radius p-2 text-sm transition-colors
     focus:outline-none focus:border-ring focus:shadow-[0_0_0_2px_hsl(var(--ring)/0.2)]
     hover:border-[hsl(var(--border)/0.8)]
     placeholder:text-muted-foreground
  */
  /* .input { ... } */
  /* .input::placeholder { ... } */
  /* .input:focus { ... } */
  /* .input:hover { ... } */
  /* .input-sm { ... } */
  /* select.input { ... } */


  /* Enhanced scrollbar utilities */
  /* .scrollbar-hidden class is replaceable by `scrollbar-none` from the tailwind-scrollbar plugin */
  /* Ensure components use `scrollbar-none` instead of this custom class. */
  /*
  .scrollbar-hidden {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hidden::-webkit-scrollbar {
    display: none;
  }
  */

  /* Enhanced bubble fade effects */
  /* These mask-image properties are not standard in Tailwind and might need to remain custom */
  .bubble-fade-top {
    mask-image: linear-gradient(to bottom, transparent 0%, black 20%);
  }

  .bubble-fade-bottom {
    mask-image: linear-gradient(to top, transparent 0%, black 20%);
  }

  /*
    The following sections have been removed as they are expected to be handled by Tailwind utilities,
    theme extensions in tailwind.config.js, or component-level logic:
    - .chat-message and its pseudo-elements/states (hover effects might need JS or specific component structure)
    - .chat-bubble-glass, .chat-bubble-glass-extra-dark (use .glass-effect or similar from config)
    - .custom-scrollbar, .chat-scrollable-content (use tailwind-scrollbar plugin utilities)
    - .chat-message-content and its typography (use @tailwindcss/typography or utility classes)
    - .status-badge-pulse (use animate-pulse)
    - .sparkle-animation (use animate-sparkle)
    - .glass-card, .glass-panel, .glass-button, .glass-input (use .glass-effect and other utilities)
    - .glass-entrance (use animate-glass-fade-in)
    - .card-inner-shadow (use Tailwind shadow utilities)
    - .focus-ring, .enhanced-focus (use Tailwind focus and ring utilities)
    - .markdown-glow-* (configure textShadow in theme or use arbitrary values)
    - .markdown-badge-* (build with utility classes)
    - .markdown-obs-action (build with utility classes)
    - .markdown-stream-live (use animate-pulse and utility classes)
    - .markdown-rainbow (use .text-gradient and animate-rainbow-shift from config)
    - .markdown-highlight-* (build with utility classes and animate-highlight-fade)
    - .markdown-bounce, .markdown-slide-in, .markdown-fade-glow, .markdown-typewriter (use animate-* utilities)
    - Specific keyframes for slide-in, fade-glow, typewriter, bounce (moved to tailwind.config.js)
    - .text-gradient, .bg-gradient-primary, .shadow-glow (use utilities from tailwind.config.js plugin)
    - .backdrop-blur-sm/md/lg/xl (use standard Tailwind backdrop-blur utilities)
    - .container-responsive (use Tailwind's `container` class or responsive width utilities)
    - .sr-only (use Tailwind's `sr-only` class)
    - .loading-skeleton (use `animate-loading-shimmer` and apply gradient background)
  */

}
